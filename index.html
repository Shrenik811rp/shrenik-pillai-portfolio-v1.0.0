<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shrenik Pillai - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              "space-grotesk": ["Space Grotesk", "sans-serif"],
            },
            animation: {
              "blur-in": "blurIn 0.7s ease-out forwards",
              "fade-in": "fadeIn 0.5s ease-out forwards",
              "slide-up": "slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)",
              "scale-in": "scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)",
              "fade-in-scale": "fadeInScale 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)",
              "pulse-glow": "pulseGlow 2s ease-in-out infinite",
              "shimmer": "shimmer 2s infinite",
              "float": "float 3s ease-in-out infinite",
              "twinkle": "twinkle 3s ease-in-out infinite",
            },
            keyframes: {
              blurIn: {
                "0%": { filter: "blur(5px)", opacity: "0" },
                "100%": { filter: "blur(0)", opacity: "1" },
              },
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(20px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              slideUp: {
                "0%": { opacity: "0", transform: "translateY(40px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              scaleIn: {
                "0%": { opacity: "0", transform: "scale(0.95)" },
                "100%": { opacity: "1", transform: "scale(1)" },
              },
              fadeInScale: {
                "0%": { opacity: "0", transform: "scale(0.9) translateY(20px)" },
                "100%": { opacity: "1", transform: "scale(1) translateY(0)" },
              },
              pulseGlow: {
                "0%, 100%": { boxShadow: "0 0 0 0 rgba(59, 130, 246, 0.7)" },
                "50%": { boxShadow: "0 0 0 10px rgba(59, 130, 246, 0)" },
              },
              shimmer: {
                "0%": { backgroundPosition: "-1000px 0" },
                "100%": { backgroundPosition: "1000px 0" },
              },
              float: {
                "0%, 100%": { transform: "translateY(0px)" },
                "50%": { transform: "translateY(-10px)" },
              },
              twinkle: {
                "0%, 100%": { opacity: "0.3" },
                "50%": { opacity: "1" },
              },
            },
          },
        },
        darkMode: "selector",
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="canonical" href="" id="canonical-link" />
    <style>
      /* Smooth transitions and custom effects */
      * {
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
      }

      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }

      body {
        overflow-x: hidden;
        position: relative;
      }

      /* Background canvas for animations */
      #background-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
      }

      /* Main app content sits above background */
      #app {
        position: relative;
        z-index: 10;
      }

      /* Section entrance animations with stagger */
      .section-enter {
        animation: slideUp 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        opacity: 0;
      }

      /* Interactive button effects */
      .btn-interactive {
        position: relative;
        overflow: hidden;
      }

      .btn-interactive::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        transform: translate(-50%, -50%);
        pointer-events: none;
      }

      .btn-interactive:hover::before {
        width: 300px;
        height: 300px;
        transition: width 0.6s, height 0.6s;
      }

      /* Card hover lift effect */
      .card-interactive {
        transform: translateY(0);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .card-interactive:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .dark .card-interactive:hover {
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      }

      /* Image hover zoom */
      .img-interactive {
        transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .img-interactive:hover {
        transform: scale(1.05);
      }

      /* Link underline animation */
      .link-underline {
        position: relative;
        text-decoration: none;
      }

      .link-underline::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background-color: currentColor;
        transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .link-underline:hover::after {
        width: 100%;
      }

      /* Smooth scroll behavior */
      html {
        scroll-behavior: smooth;
      }

      /* Modal fade in */
      .modal-backdrop {
        animation: fadeIn 0.3s ease-out;
      }

      .modal-content {
        animation: fadeInScale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      /* Text gradient animation */
      .gradient-text {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      /* Smooth divider animation */
      .divider-line {
        height: 1px;
        background: currentColor;
        transform: scaleX(0);
        transform-origin: left;
        animation: scaleX 0.5s ease-out forwards;
      }

      @keyframes scaleX {
        to {
          transform: scaleX(1);
        }
      }

      /* Loading skeleton shimmer */
      .skeleton-shimmer {
        background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
      }

      /* Header center alignment fix */
      header {
        display: flex !important;
        justify-content: center !important;
        left: 0 !important;
        right: 0 !important;
      }

      nav {
        width: auto !important;
      }
    </style>
  </head>
  <body
    class="bg-white text-gray-800 dark:bg-[#18181b] dark:text-gray-300 font-space-grotesk antialiased transition-colors duration-300"
  >
    <canvas id="background-canvas"></canvas>
    <div id="app"></div>
    <script>
      // Background Animation System
      class BackgroundAnimationSystem {
        constructor() {
          this.canvas = document.getElementById('background-canvas');
          this.ctx = this.canvas.getContext('2d');
          this.particles = [];
          this.stars = [];
          this.mouseX = window.innerWidth / 2;
          this.mouseY = window.innerHeight / 2;
          this.isDarkMode = true;
          
          this.resize();
          this.initStars();
          this.setupEventListeners();
          this.animate();
        }

        resize() {
          this.canvas.width = window.innerWidth;
          this.canvas.height = window.innerHeight;
        }

        initStars() {
          const starCount = Math.min(150, Math.floor(window.innerWidth / 15));
          this.stars = [];
          for (let i = 0; i < starCount; i++) {
            this.stars.push({
              x: Math.random() * this.canvas.width,
              y: Math.random() * this.canvas.height,
              radius: Math.random() * 1.5,
              opacity: Math.random() * 0.5 + 0.3,
              twinkleSpeed: Math.random() * 0.03 + 0.01,
              twinklePhase: Math.random() * Math.PI * 2,
            });
          }
        }

        setupEventListeners() {
          window.addEventListener('mousemove', (e) => {
            this.mouseX = e.clientX;
            this.mouseY = e.clientY;
            this.createParticles(e.clientX, e.clientY);
          });

          window.addEventListener('resize', () => this.resize());

          // Watch for dark mode changes
          const observer = new MutationObserver(() => {
            this.isDarkMode = document.documentElement.classList.contains('dark');
          });
          observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
        }

        createParticles(x, y) {
          // Create sparkle particles on mouse movement (less frequent)
          if (Math.random() > 0.7) {
            const particle = {
              x: x,
              y: y,
              vx: (Math.random() - 0.5) * 4,
              vy: (Math.random() - 0.5) * 4 - 1,
              radius: Math.random() * 2 + 1,
              opacity: 0.8,
              decay: 0.98,
              life: 1,
            };
            this.particles.push(particle);
          }
        }

        updateParticles() {
          this.particles = this.particles.filter(p => p.life > 0.01);
          
          for (let particle of this.particles) {
            particle.x += particle.vx;
            particle.y += particle.vy;
            particle.vy += 0.1; // gravity
            particle.opacity *= particle.decay;
            particle.life *= particle.decay;
          }
        }

        updateStars() {
          for (let star of this.stars) {
            star.twinklePhase += star.twinkleSpeed;
            star.opacity = Math.sin(star.twinklePhase) * 0.35 + 0.35;
          }
        }

        drawBackground() {
          // Create gradient background
          if (this.isDarkMode) {
            const gradient = this.ctx.createLinearGradient(0, 0, this.canvas.width, this.canvas.height);
            gradient.addColorStop(0, '#0f0f12');
            gradient.addColorStop(1, '#18181b');
            this.ctx.fillStyle = gradient;
          } else {
            const gradient = this.ctx.createLinearGradient(0, 0, this.canvas.width, this.canvas.height);
            gradient.addColorStop(0, '#f9fafb');
            gradient.addColorStop(1, '#ffffff');
            this.ctx.fillStyle = gradient;
          }
          this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        }

        drawStars() {
          for (let star of this.stars) {
            this.ctx.fillStyle = this.isDarkMode 
              ? `rgba(255, 255, 255, ${star.opacity})`
              : `rgba(100, 100, 150, ${star.opacity * 0.6})`;
            this.ctx.beginPath();
            this.ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
            this.ctx.fill();

            // Draw glow for dark mode
            if (this.isDarkMode && star.opacity > 0.4) {
              this.ctx.fillStyle = `rgba(147, 197, 253, ${star.opacity * 0.3})`;
              this.ctx.beginPath();
              this.ctx.arc(star.x, star.y, star.radius * 2.5, 0, Math.PI * 2);
              this.ctx.fill();
            }
          }
        }

        drawParticles() {
          for (let particle of this.particles) {
            this.ctx.fillStyle = this.isDarkMode
              ? `rgba(147, 197, 253, ${particle.opacity})`
              : `rgba(59, 130, 246, ${particle.opacity})`;
            
            this.ctx.beginPath();
            this.ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);
            this.ctx.fill();

            // Glow effect
            this.ctx.strokeStyle = this.isDarkMode
              ? `rgba(99, 102, 241, ${particle.opacity * 0.5})`
              : `rgba(99, 102, 241, ${particle.opacity * 0.3})`;
            this.ctx.lineWidth = 1;
            this.ctx.beginPath();
            this.ctx.arc(particle.x, particle.y, particle.radius * 1.5, 0, Math.PI * 2);
            this.ctx.stroke();
          }
        }

        animate() {
          this.drawBackground();
          this.drawStars();
          this.updateStars();
          this.updateParticles();
          this.drawParticles();
          requestAnimationFrame(() => this.animate());
        }
      }

      // Initialize background animations
      let bgAnimation = null;

      let portfolioData = null;

      async function loadPortfolioData() {
        try {
          const response = await fetch("./portfolio-data.json");
          if (!response.ok) {
            throw new Error("HTTP error! status: " + response.status);
          }
          portfolioData = await response.json();
          return portfolioData;
        } catch (error) {
          console.error("Error loading portfolio data:", error);
          document.getElementById("app").innerHTML =
            '<div class="text-red-500 p-8">Error loading portfolio data. Please make sure portfolio-data.json exists in the same directory.</div>';
          throw error;
        }
      }

      function getIconSVG(name) {
        const icons = {
          linkedin:
            '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg>',
          github:
            '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>',
          sun: '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>',
          moon: '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>',
          external: '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/><path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/></svg>',
        };
        return icons[name] || "";
      }

      function createSectionDivider(title) {
        return `
    <div class="flex items-center my-12 section-enter" style="animation-delay: 0.1s">
      <div class="flex-grow border-t border-gray-300 dark:border-gray-700"></div>
      <h2 class="font-bold text-2xl text-gray-900 dark:text-white mx-4">${title}</h2>
      <div class="flex-grow border-t border-gray-300 dark:border-gray-700"></div>
    </div>
  `;
      }

      function generateInitials(name) {
        const words = name.trim().split(" ");
        if (words.length === 1) {
          return words[0].charAt(0).toUpperCase();
        } else {
          return words
            .slice(0, 2)
            .map((word) => word.charAt(0).toUpperCase())
            .join("");
        }
      }

      function ensureUrl(url) {
        if (!url || url.startsWith('./') || url.startsWith('/') || url.startsWith('mailto:') || url.startsWith('tel:') || url.match(/^https?:\/\//)) {
          return url;
        }
        return `https://${url}`;
      }

      function setTheme(theme) {
        localStorage.setItem("theme", theme);
        if (theme === "dark") {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }
        const toggle = document.getElementById("theme-toggle");
        if (toggle) {
          toggle.innerHTML = getIconSVG(theme === "dark" ? "sun" : "moon");
        }
      }

      function setupTheme() {
        const savedTheme = localStorage.getItem("theme");
        const prefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        const defaultTheme = savedTheme || (prefersDark ? "dark" : "light");
        setTheme(defaultTheme);

        const toggle = document.getElementById("theme-toggle");
        if (toggle) {
          toggle.addEventListener("click", () => {
            const currentTheme = localStorage.getItem("theme") || "light";
            setTheme(currentTheme === "dark" ? "light" : "dark");
          });
        }
      }

      function setMetaTags(data) {
        const pageTitle = `${data.settings.name} - ${data.settings.title}`;
        const pageDescription = data.settings.summary;
        const pageImage = data.settings.profileImage;
        const pageUrl = window.location.href;

        document.title = pageTitle;

        const createOrUpdateMeta = (
          property,
          content,
          isNameAttribute = false
        ) => {
          const attribute = isNameAttribute ? "name" : "property";
          let element = document.querySelector(
            `meta[${attribute}="${property}"]`
          );
          if (!element) {
            element = document.createElement("meta");
            element.setAttribute(attribute, property);
            document.head.appendChild(element);
          }
          element.setAttribute("content", content);
        };

        createOrUpdateMeta("description", pageDescription, true);
        createOrUpdateMeta("og:title", pageTitle);
        createOrUpdateMeta("og:description", pageDescription);
        createOrUpdateMeta("og:image", pageImage);
        createOrUpdateMeta("og:url", pageUrl);
        createOrUpdateMeta("og:type", "website");
        createOrUpdateMeta("twitter:card", "summary_large_image", true);
        createOrUpdateMeta("twitter:title", pageTitle, true);
        createOrUpdateMeta("twitter:description", pageDescription, true);
        createOrUpdateMeta("twitter:image", pageImage, true);

        const canonical = document.getElementById("canonical-link");
        if (canonical) {
          canonical.setAttribute("href", pageUrl.split("#")[0]);
        }
      }

      async function renderPortfolio() {
        try {
          const data = await loadPortfolioData();
          setMetaTags(data);

          let socialLinksHTML = "";
          if (data.sections.social && data.sections.social.enabled) {
            socialLinksHTML = data.sections.social.items
              .map(
                (item, idx) => `
        <a href="${ensureUrl(
          item.url
        )}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 text-gray-500 hover:text-gray-900 dark:hover:text-white transition-all duration-300 hover:scale-110 link-underline" style="animation-delay: ${idx * 0.1}s">
          ${getIconSVG(item.platform)}
          <span>${
            item.platform.charAt(0).toUpperCase() + item.platform.slice(1)
          }</span>
        </a>`
              )
              .join('<span class="text-gray-500">/</span>');
          }

          let headerHTML = "";
          if (data.navigation && data.navigation.enabled) {
            const navLinks = data.navigation.items
              .map(
                (item, idx) => `
        <a href="${item.url}" class="px-3 py-2 text-sm rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-300 link-underline whitespace-nowrap" style="animation-delay: ${idx * 0.05}s">${item.name}</a>
      `
              )
              .join("");

            headerHTML = `
        <header class="hidden md:flex fixed top-4 left-1/2 -translate-x-1/2 z-50 animate-fade-in w-full justify-center px-4">
          <nav class="flex items-center gap-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md shadow-lg rounded-full px-6 py-3 border border-gray-200 dark:border-gray-700 flex-wrap justify-center">
            <div class="flex items-center justify-center w-8 h-8 bg-gradient-to-br from-gray-800 to-gray-900 dark:from-gray-200 dark:to-gray-300 text-white dark:text-gray-800 rounded-full font-bold text-sm tracking-wider animate-pulse flex-shrink-0">
              ${generateInitials(data.settings.name)}
            </div>
            ${navLinks}
          </nav>
        </header>

        <div id="mobile-sidebar" class="fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-900 shadow-xl transform -translate-x-full transition-transform z-50 duration-300">
          <div class="p-6 pt-20">
            <nav class="flex flex-col gap-4">
              ${data.navigation.items
                .map(
                  (item, idx) => `
                <a href="${item.url}" class="text-lg hover:text-gray-900 dark:hover:text-white transition-all duration-300 link-underline" style="animation-delay: ${idx * 0.05}s">${item.name}</a>
              `
                )
                .join("")}
            </nav>
          </div>
        </div>

        <button id="hamburger-menu" class="md:hidden fixed top-4 left-4 z-[60] p-2 rounded-md bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      `;
          }

          let ctaButtonsHTML = "";
          if (data.sections.hero && data.sections.hero.enabled) {
            ctaButtonsHTML = data.sections.hero.ctaButtons
              .map(
                (btn, idx) => `
        <a href="${btn.url}" ${btn.url.startsWith('mailto:') ? '' : `target="_blank" rel="noopener noreferrer" ${btn.url.startsWith('./') ? 'download' : ''}`} class="inline-flex items-center gap-2 px-6 py-3 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-900 dark:hover:bg-gray-100 hover:text-white dark:hover:text-gray-900 transition-all duration-400 btn-interactive group" style="animation-delay: ${idx * 0.15}s; animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both">
          ${btn.url.startsWith('./') ? getIconSVG('external') : ''} 
          <span>${btn.text}</span>
        </a>`
              )
              .join("");
          }

          let aboutHTML = "";
          if (data.sections.about && data.sections.about.enabled) {
            aboutHTML = `
              <div class="mt-20 section-enter" id="about" style="animation-delay: 0.2s">
                <h2 class="font-bold text-2xl text-gray-900 dark:text-white mb-8">About Me</h2>
                <p class="text-gray-600 dark:text-gray-400 text-base leading-relaxed max-w-3xl">${data.sections.about.content || data.settings.summary}</p>
              </div>
            `;
          }

          let skillsHTML = "";
          if (data.sections.about && data.sections.about.enabled) {
            if (
              data.sections.about.skills &&
              data.sections.about.skills.enabled
            ) {
              skillsHTML = `
          <div class="mt-20 section-enter" style="animation-delay: 0.3s">
              <h2 class="font-bold text-2xl text-gray-900 dark:text-white mb-8">${
                data.sections.about.skills.title
              }</h2>
              <div class="flex flex-wrap gap-3">
                  ${data.sections.about.skills.items
                    .map(
                      (skill, idx) =>
                        `<span class="text-sm px-4 py-2 rounded-full bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 text-gray-700 dark:text-gray-200 font-mono hover:scale-110 transition-transform duration-300 cursor-default" style="animation-delay: ${idx * 0.05}s; animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both">${skill}</span>`
                    )
                    .join("")}
              </div>
          </div>
        `;
            }
          }

          let projectsHTML = "";
          if (data.sections.projects && data.sections.projects.enabled) {
            projectsHTML = `
        <div class="mt-20 section-enter" id="projects" style="animation-delay: 0.4s">
          ${createSectionDivider(data.sections.projects.title)}
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            ${data.sections.projects.items
              .map(
                (project, idx) => `
            <div class="group border-2 border-gray-200 dark:border-gray-700 rounded-xl p-8 card-interactive hover:border-gray-400 dark:hover:border-gray-500" style="animation-delay: ${idx * 0.1}s; animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both">
              <div class="relative overflow-hidden rounded-lg mb-6 h-40 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 flex items-center justify-center group-hover:scale-105 transition-transform duration-500">
                <div class="text-4xl font-bold text-gray-300 dark:text-gray-600 opacity-50">${
                  project.title.charAt(0)
                }</div>
              </div>
              <h3 class="font-semibold text-xl text-gray-900 dark:text-white mb-3 group-hover:text-gray-700 dark:group-hover:text-gray-100 transition-colors duration-300">${
                project.title
              }</h3>
              <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-5">${
                project.description
              }</p>
              <div class="flex flex-wrap gap-2 mb-6">
                ${project.tags
                  .map(
                    (tag, tagIdx) =>
                      `<span class="text-xs px-3 py-1 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-600 dark:text-gray-300 font-mono hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors duration-300" style="animation-delay: ${tagIdx * 0.05}s; animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both">${tag}</span>`
                  )
                  .join("")}
              </div>
              <div class="flex items-center gap-4 text-sm pt-4 border-t border-gray-200 dark:border-gray-700">
                ${
                  project.previewUrl
                    ? `<a href="${ensureUrl(
                        project.previewUrl
                      )}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 link-underline">
                       ${getIconSVG("external")}
                       <span>Preview</span>
                     </a>`
                    : ""
                }
                ${
                  project.repoUrl
                    ? `<a href="${ensureUrl(
                        project.repoUrl
                      )}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 link-underline">
                       ${getIconSVG("github")}
                       <span>View Code</span>
                     </a>`
                    : ""
                }
              </div>
            </div>
          `
              )
              .join("")}
          </div>
          <div class="text-center mt-12">
            <a href="https://github.com/Shrenik811rp" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-8 py-4 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-900 dark:hover:bg-gray-100 hover:text-white dark:hover:text-gray-900 transition-all duration-400 btn-interactive animate-slide-up" style="animation-delay: 0.5s">
              View More Projects on GitHub
              ${getIconSVG("external")}
            </a>
          </div>
        </div>
      `;
          }

          let experienceHTML = "";
          if (data.sections.experience && data.sections.experience.enabled) {
            const experienceItemsHTML = data.sections.experience.items
              .map(
                (item, idx) => `
        <div class="mb-12 pb-12 border-b border-gray-200 dark:border-gray-700 last:border-b-0 section-enter group hover:bg-gray-50 dark:hover:bg-gray-800/30 rounded-lg p-4 transition-colors duration-300" style="animation-delay: ${idx * 0.15}s">
          <div class="flex items-start justify-between mb-2">
            <h3 class="font-semibold text-xl text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-gray-100 transition-colors duration-300">${item.position}</h3>
            <span class="text-xs text-gray-500 dark:text-gray-500 font-mono whitespace-nowrap ml-4">${item.period}</span>
          </div>
          <p class="text-gray-600 dark:text-gray-400 text-base mb-3 font-medium">${item.company}</p>
          <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed whitespace-pre-line">${item.description}</p>
        </div>
      `
              )
              .join("");

            experienceHTML = `
        <div class="mt-20 section-enter" id="experience" style="animation-delay: 0.5s">
            ${createSectionDivider(data.sections.experience.title)}
            ${experienceItemsHTML}
        </div>
      `;
          }

          let educationHTML = "";
          if (data.sections.education && data.sections.education.enabled) {
            const educationItemsHTML = data.sections.education.items
              .map(
                (item, idx) => `
        <div class="mb-10 pb-10 border-b border-gray-200 dark:border-gray-700 last:border-b-0 group hover:bg-gray-50 dark:hover:bg-gray-800/30 rounded-lg p-4 transition-colors duration-300" style="animation-delay: ${idx * 0.1}s">
            <div class="flex flex-col md:flex-row md:justify-between md:items-baseline mb-3">
                <h3 class="font-semibold text-lg text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-gray-100 transition-colors duration-300">${item.degree}</h3>
                <div class="text-sm text-gray-500 dark:text-gray-500 font-mono">${item.period}</div>
            </div>
            <p class="text-gray-600 dark:text-gray-400 text-base mb-2 font-medium">${item.institution}</p>
            ${item.details ? `<p class="text-gray-500 dark:text-gray-500 text-sm">${item.details}</p>` : ''}
        </div>
      `
              )
              .join("");

            educationHTML = `
        <div class="mt-20 section-enter" id="education" style="animation-delay: 0.6s">
            ${createSectionDivider(data.sections.education.title)}
            ${educationItemsHTML}
        </div>
      `;
          }

          let achievementsHTML = "";
          if (
            data.sections.achievements &&
            data.sections.achievements.enabled
          ) {
            const achievementItemsHTML = data.sections.achievements.items
              .map(
                (item, idx) => `
        <div class="rounded-lg border-2 border-gray-200 dark:border-gray-700 p-6 card-interactive group hover:border-gray-400 dark:hover:border-gray-500" style="animation-delay: ${idx * 0.1}s; animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both">
          <h3 class="font-semibold text-base text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-gray-100 transition-colors duration-300 mb-2">${item.title}</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm">${item.description}</p>
        </div>
      `
              )
              .join("");

            achievementsHTML = `
        <div class="mt-20 section-enter" id="achievements" style="animation-delay: 0.7s">
          ${createSectionDivider(data.sections.achievements.title)}
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            ${achievementItemsHTML}
          </div>
        </div>
      `;
          }

          let contactHTML = "";
          if (data.sections.contact && data.sections.contact.enabled) {
            const contactItems = [
              {
                value: data.sections.contact.email,
                link: `mailto:${data.sections.contact.email}`,
                label: "Email"
              },
              {
                value: data.sections.contact.phone,
                link: `tel:${data.sections.contact.phone}`,
                label: "Phone"
              },
              {
                value: data.sections.contact.location,
                link: `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(
                  data.sections.contact.location
                )}`,
                label: "Location"
              },
            ]
              .filter((item) => item.value)
              .map(
                (item, idx) =>
                  `<div class="text-center group cursor-pointer" style="animation-delay: ${idx * 0.1}s; animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both">
                    <p class="text-gray-500 dark:text-gray-500 text-xs uppercase tracking-widest mb-2 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors duration-300">${item.label}</p>
                    <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 hover:scale-105 inline-block link-underline font-medium">${item.value}</a>
                  </div>`
              )
              .join("");

            const contactFormHTML = data.sections.contact.showContactForm ? `
              <div class="mt-16 max-w-2xl mx-auto section-enter" style="animation-delay: 0.8s">
                <h3 class="font-semibold text-xl text-gray-900 dark:text-white mb-8 text-center">Send Me a Message</h3>
                <form class="space-y-5" onsubmit="handleContactForm(event)">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <input type="text" placeholder="Your Name" required class="px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 transition-all duration-300 hover:border-gray-400 dark:hover:border-gray-600">
                    <input type="email" placeholder="Your Email" required class="px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 transition-all duration-300 hover:border-gray-400 dark:hover:border-gray-600">
                  </div>
                  <input type="text" placeholder="Subject" required class="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 transition-all duration-300 hover:border-gray-400 dark:hover:border-gray-600">
                  <textarea rows="6" placeholder="Your Message" required class="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 transition-all duration-300 hover:border-gray-400 dark:hover:border-gray-600 resize-none"></textarea>
                  <button type="submit" class="w-full px-6 py-4 bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-200 dark:to-gray-300 text-white dark:text-gray-800 rounded-lg hover:shadow-lg transition-all duration-300 font-semibold btn-interactive">
                    Send Message
                  </button>
                </form>
              </div>
            ` : '';

            contactHTML = `
        <div class="mt-20 section-enter" id="contact" style="animation-delay: 0.8s">
           ${createSectionDivider(data.sections.contact.title)}
           ${data.sections.contact.subtitle ? `<p class="text-gray-600 dark:text-gray-400 text-center mb-12 max-w-2xl mx-auto">${data.sections.contact.subtitle}</p>` : ''}
            <div class="flex flex-col items-center gap-8 text-sm mb-8">
                <div class="flex flex-row flex-wrap justify-center gap-x-16 gap-y-6">
                  ${contactItems}
                </div>
                <div class="flex items-center gap-4 mt-4 flex-wrap justify-center">
                  ${socialLinksHTML}
                </div>
            </div>
            ${contactFormHTML}
        </div>
      `;
          }

          let footerHTML = "";
          if (data.footer && data.footer.enabled) {
            footerHTML = `
        <footer class="py-8 text-center text-sm text-gray-500 dark:text-gray-600 border-t border-gray-200 dark:border-gray-700 mt-20">
            <p class="animate-fade-in">${data.footer.copyright}</p>
        </footer>
      `;
          }

          const content = `
    ${headerHTML}
    <div class="flex flex-col min-h-screen relative">
      <div class="fixed top-4 right-4 z-50 animate-fade-in">
          <button id="theme-toggle" class="p-2 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-700 transition-all duration-300 hover:scale-110"></button>
      </div>
      <main class="flex-grow max-w-4xl mx-auto px-6 pt-40 pb-12 animate-blur-in">
        <header class="grid md:grid-cols-3 gap-12 items-center mb-20 section-enter">
            <div class="md:col-span-1 flex justify-center animate-float">
              <div class="relative group">
                <div class="absolute inset-0 bg-gradient-to-r from-gray-400 to-gray-600 dark:from-gray-500 dark:to-gray-700 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity duration-500"></div>
                <img src="${data.settings.profileImage}" alt="${data.settings.name}" class="relative rounded-full w-48 h-48 object-cover border-4 border-white dark:border-gray-800 shadow-2xl img-interactive" loading="lazy">
              </div>
            </div>
            <div class="md:col-span-2 section-enter" style="animation-delay: 0.1s">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-2">Hey, I'm ${data.settings.name}</h1>
                <p class="text-lg md:text-xl text-gray-700 dark:text-gray-300 mb-6">${data.settings.title} &bull; ${data.settings.location}</p>
                 <div class="flex flex-wrap gap-4 mt-8">
                  ${ctaButtonsHTML}
                </div>
            </div>
        </header>

        ${aboutHTML}
        ${skillsHTML}
        ${projectsHTML}
        ${experienceHTML}
        ${educationHTML}
        ${achievementsHTML}
        ${contactHTML}

      </main>
      ${footerHTML}
    </div>
    `;

          document.getElementById("app").innerHTML = content;
          setupTheme();

          try {
            const personSchema = {
              "@context": "https://schema.org",
              "@type": "Person",
              name: data.settings.name,
              jobTitle: data.settings.title,
              description: data.settings.summary,
              image: data.settings.profileImage,
              url: window.location.href,
              sameAs: (data.sections.social?.items || []).map((s) =>
                ensureUrl(s.url)
              ),
              address: {
                "@type": "PostalAddress",
                addressLocality: data.settings.location,
              },
            };
            const ld = document.createElement("script");
            ld.type = "application/ld+json";
            ld.textContent = JSON.stringify(personSchema);
            document.head.appendChild(ld);
          } catch (e) {
            console.warn("JSON-LD injection failed", e);
          }

          document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener("click", function (e) {
              e.preventDefault();
              const targetId = this.getAttribute("href");
              if (targetId === "#") {
                window.scrollTo({ top: 0, behavior: "smooth" });
                return;
              }
              const targetElement = document.querySelector(targetId);
              if (targetElement) {
                targetElement.scrollIntoView({
                  behavior: "smooth",
                  block: "start",
                });
              }
            });
          });

          const hamburgerMenu = document.getElementById("hamburger-menu");
          const sidebar = document.getElementById("mobile-sidebar");

          function closeSidebar() {
            if (sidebar) {
              sidebar.classList.add("-translate-x-full");
            }
          }

          if (hamburgerMenu && sidebar) {
            hamburgerMenu.addEventListener("click", () => {
              const isOpen = !sidebar.classList.contains("-translate-x-full");
              if (isOpen) {
                closeSidebar();
              } else {
                sidebar.classList.remove("-translate-x-full");
              }
            });

            sidebar.querySelectorAll("a").forEach((link) => {
              link.addEventListener("click", () => {
                closeSidebar();
              });
            });

            document.addEventListener("click", (event) => {
              if (
                !sidebar.contains(event.target) &&
                !hamburgerMenu.contains(event.target)
              ) {
                closeSidebar();
              }
            });

            document.addEventListener("keydown", (event) => {
              if (event.key === "Escape") {
                closeSidebar();
              }
            });
          }
        } catch (err) {
          document.getElementById(
            "app"
          ).innerHTML = `<div class="text-red-500 p-8">Error: ${err.message}</div>`;
          console.error(err);
        }
      }

      function handleContactForm(event) {
        event.preventDefault();
        const form = event.target;
        
        // Create success message
        const successMsg = document.createElement('div');
        successMsg.className = 'fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg animate-slide-up';
        successMsg.textContent = 'âœ“ Message sent successfully! Thank you for reaching out.';
        document.body.appendChild(successMsg);
        
        // Remove message after 4 seconds
        setTimeout(() => {
          successMsg.style.animation = 'fadeOut 0.5s ease-out forwards';
          setTimeout(() => successMsg.remove(), 500);
        }, 4000);
        
        form.reset();
      }

      document.addEventListener("DOMContentLoaded", () => {
        bgAnimation = new BackgroundAnimationSystem();
        renderPortfolio();
      });
    </script>
  </body>
</html>
